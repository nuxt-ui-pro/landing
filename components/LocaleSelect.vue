
<script setup lang="ts">
const localePath = useLocalePath()

// console.log(locale.value)
// console.log(availableLocales)
// console.log(t('icon'))
// console.log(messages.value)
// console.log(messages.value[locale.value].icon)

// const selected = ref('en')

const availableLocales = ['en', 'fr', 'nl', 'de']

const EMOJIS = {
  en: 'ðŸ‡¬ðŸ‡§',
  fr: 'ðŸ‡«ðŸ‡·',
  nl: 'ðŸ‡³ðŸ‡±',
  // es: 'ðŸ‡ªðŸ‡¸',
  de: 'ðŸ‡©ðŸ‡ª',
  // it: 'ðŸ‡®ðŸ‡¹',
  // pt: 'ðŸ‡µðŸ‡¹',
  // ru: 'ðŸ‡·ðŸ‡º',
  // ja: 'ðŸ‡¯ðŸ‡µ',
  // zh: 'ðŸ‡¨ðŸ‡³',
  // ko: 'ðŸ‡°ðŸ‡·',
}

// const selectOptions = computed(() => availableLocales.map((locale) => ({
//   label: EMOJIS[locale],
//   value: locale,
//   // selected: selected.value === locale
// })))

// const selectOptionsByLocale = computed(() => selectOptions.value.reduce((acc, option) => ({
//   [option.value]: option,
//   ...acc
// }), {}))

// const selectedOption = computed(() => selectOptionsByLocale.value[selected.value])

// console.log(selectOptionsByLocale.value)
// console.log(selectedOption.value)

// const items = availableLocales.map((locale) => ({
//   label: EMOJIS[locale],
//   // value: locale,
//   // click: (value: string) => {
//   //   console.log(value)
//   //   console.log(locale)
//   //   console.log('Edit')
//   // },
//   // replace: false,
//   // to: localePath('index', locale),
//   // icon: 'i-heroicons-pencil-square-20-solid',
//   // shortcuts: ['E'],
//   // avatar: {
//   //   src: 'https://avatars.githubusercontent.com/u/739984?v=4'
//   }
// ))

console.log(localePath('index', 'en'))

const items = [
  { label: 'ðŸ‡¬ðŸ‡§', to: localePath('index', 'en') },
  { label: 'ðŸ‡«ðŸ‡·', to: localePath('index', 'fr') },
  { label: 'ðŸ‡³ðŸ‡±', to: localePath('index', 'nl') },
  { label: 'ðŸ‡©ðŸ‡ª', to: localePath('index', 'de') },
]

// function getIcon(locale: string) {
//   console.log(locale)
//   console.log(messages.value[locale].icon)
//   return messages.value[locale].icon
// }

console.log(items)

</script>

<template>
  <UDropdown :items="items" :popper="{ arrow: true }">
    <!-- <UButton label="Sign in" color="white" variant="ghost" trailing-icon="i-heroicons-arrow-right-20-solid" class="hidden lg:flex" /> -->
    <UButton color="primary" variant="outline" :label="$t('icon')" trailing-icon="i-heroicons-chevron-down-20-solid" class="hidden lg:flex" />
    <!-- <template #item="{ item }">
      {{ item.label }}
      {{ item }}
      {{ getIcon(item.label) }}
      <UButton variant="link" :to="localePath('index', item.label)" target="_blank" />
    </template> -->
  </UDropdown>
</template>